function (add_s_test NAME FILE)
	add_test (
		testshell_markdown_${NAME}
		"${CMAKE_CURRENT_SOURCE_DIR}/markdown_shell_recorder.sh"
		"${FILE}"
		)

	set_property(TEST testshell_markdown_${NAME} PROPERTY LABELS memleak kdbtests)
endfunction ()

add_s_test (enum "${CMAKE_SOURCE_DIR}/src/plugins/enum/README.md")
add_s_test (blockresolver "${CMAKE_SOURCE_DIR}/src/plugins/blockresolver/README.md")
add_s_test (conditionals "${CMAKE_SOURCE_DIR}/src/plugins/conditionals/README.md")
add_s_test (hosts "${CMAKE_SOURCE_DIR}/src/plugins/hosts/README.md")
add_s_test (line "${CMAKE_SOURCE_DIR}/src/plugins/line/README.md")
add_s_test (mathcheck "${CMAKE_SOURCE_DIR}/src/plugins/mathcheck/README.md")
add_s_test (mozpref "${CMAKE_SOURCE_DIR}/src/plugins/mozprefs/README.md")
add_s_test (tutorial_cascading "${CMAKE_SOURCE_DIR}/doc/tutorials/cascading.md")
add_s_test (tutorial_mount "${CMAKE_SOURCE_DIR}/doc/tutorials/mount.md")
add_s_test (kdb-complete "${CMAKE_SOURCE_DIR}/doc/help/kdb-complete.md")
add_s_test (xerces "${CMAKE_SOURCE_DIR}/src/plugins/xerces/README.md")
