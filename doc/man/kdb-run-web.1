.\" generated with Ronn/v0.7.3
.\" http://github.com/rtomayko/ronn/tree/0.7.3
.
.TH "README" "" "March 2018" "" ""
\fIan API and web user interface to remotely manage multiple Elektra instances\fR
.
.SH "Dependencies"
Elektra\-web requires:
.
.IP "\(bu" 4
Elektra \fIhttps://libelektra\.org/\fR with the \fByajl\fR plugin \fIhttps://master\.libelektra\.org/src/plugins/yajl/\fR installed
.
.IP "\(bu" 4
A recent node\.js \fIhttps://nodejs\.org/en/\fR installation (at least 6\.x)
.
.IP "" 0
.
.SH "Getting started"
.
.IP "\(bu" 4
Install dependencies (see above)
.
.IP "\(bu" 4
Build elektra with the elektra\-web tool, e\.g\. \fBcmake \.\. \-DTOOLS="web"\fR
.
.IP "\(bu" 4
.
.IP "\(bu" 4
Start an elektrad instance: \fBkdb run\-elektrad\fR
.
.IP "\(bu" 4
Start the elektra\-web client: \fBkdb run\-web\fR
.
.IP "" 0

.
.IP "\(bu" 4
You can now access the client on: \fIhttp://localhost:33334\fR
.
.IP "" 0
.
.SH "Running from source"
.
.IP "\(bu" 4
Install dependencies (see above)
.
.IP "\(bu" 4
Clone libelektra repo and \fBcd libelektra/src/tools/web\fR
.
.IP "\(bu" 4
.
.IP "\(bu" 4
\fBcd elektrad\fR
.
.IP "\(bu" 4
\fBnpm install\fR
.
.IP "\(bu" 4
\fBnpm start\fR
.
.IP "" 0

.
.IP "\(bu" 4
.
.IP "\(bu" 4
\fBcd client\fR
.
.IP "\(bu" 4
\fBnpm install\fR
.
.IP "\(bu" 4
\fBnpm start\fR
.
.IP "" 0

.
.IP "\(bu" 4
You can now access the client on: \fIhttp://localhost:33334\fR
.
.IP "" 0
.
.SS "Running elektra\-web on a single instance"
If you do not want to configure multiple instances, you can set the \fBINSTANCE\fR environment variable to the server you want to configure\. You can also set \fBuser/sw/elektra/web/#0/current/instance\fR to the host\. Make sure to enter a full HTTP URL, e\.g\. \fBhttp://localhost:33333\fR\.
.
.P
If this configuration option is set, elektra\-web will load the configuration page for that instance instead of the main overview page\.
.
.P
If you want to host elektra\-web with the client and elektrad on the same instance, after starting elektrad via \fBnpm start\fR, you can run start the client as follows:
.
.IP "" 4
.
.nf

INSTANCE="http://localhost:33333" npm start
.
.fi
.
.IP "" 0
.
.P
It is also possible to set visibility by prefixing the host with \fBVISIBILITY@\fR\.
.
.P
For example (\fBadvanced\fR visibility, \fBuser\fR is default):
.
.IP "" 4
.
.nf

INSTANCE="advanced@http://localhost:33333" npm start
.
.fi
.
.IP "" 0
.
.P
Now, when you open \fIhttp://localhost:33334\fR in your browser, the configuration page for the instance will be opened immediately\.
.
.SH "Overview"
Elektra web consists of multiple components:
.
.IP "\(bu" 4
(multiple) servers running an elektra daemon (\fBelektrad\fR \fIelektrad/\fR)
.
.IP "\(bu" 4
a single server to communicate with the elektra daemons and serve the client (\fBwebd\fR \fIwebd/\fR)
.
.IP "\(bu" 4
a web browser that accesses the client (Web UI) on the \fBwebd\fR \fIwebd/\fR server (\fBclient\fR \fIclient/\fR)
.
.IP "" 0
.
.P
.
.SH "GUI"
The Web UI allows the user to add multiple instances to be configured\.
.
.P
The configuration view of elektra web is similar to the tree view of the qt\-gui \fIhttps://git\.libelektra\.org/tree/master/src/tools/qt\-gui\fR, but with dynamic fields rendered via key metadata\.
.
.P
.
.SH "API"
.
.P
API blueprints \fIhttps://apiblueprint\.org/\fR are available for both APIs:
.
.IP "\(bu" 4
elektrad \fIhttps://master\.libelektra\.org/doc/api_blueprints/elektrad\.apib\fR, documentation: http://docs\.elektrad\.apiary\.io/
.
.IP "\(bu" 4
clusterd \fIhttps://master\.libelektra\.org/doc/api_blueprints/clusterd\.apib\fR, documentation: http://docs\.clusterd\.apiary\.io/
.
.IP "" 0
.
.SH "Auth"
Currently, clusterd does not support authentication\. The best way to work around this is to use a reverse proxy (e\.g\. nginx reverse proxy \fIhttps://www\.nginx\.com/resources/admin\-guide/reverse\-proxy/\fR)\.
.
.P
Once you set up a reverse proxy on your web server, you can use it to authenticate users, e\.g\. by username/password auth \fIhttps://www\.digitalocean\.com/community/tutorials/how\-to\-set\-up\-password\-authentication\-with\-nginx\-on\-ubuntu\-14\-04\fR
